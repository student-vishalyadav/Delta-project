<% layout('layouts/boilerplate') %>

<style>
  /* ⭐ FILTER BAR (SCROLLABLE LIKE AIRBNB) */
  #filters {
    display: flex;
    overflow-x: auto;
    padding: 1rem 0;
    gap: 1.5rem;
    scrollbar-width: none;
  }

  #filters::-webkit-scrollbar {
    display: none;
  }

  .filter {
    min-width: 80px;
    text-align: center;
    flex-direction: column;
    display: flex;
    align-items: center;
    opacity: 0.7;
    transition: 0.2s ease-in-out;
  }

  .filter i {
    font-size: 1.6rem;
    margin-bottom: 0.3rem;
    color: #ff385c;
  }

  .filter p {
    font-size: 0.85rem;
    margin: 0;
  }

  .filter:hover {
    opacity: 1;
    cursor: pointer;
    transform: translateY(-3px);
  }

  /* ⭐ Toggle Section */
  .tex-toggale {
    display: flex;
    align-items: center;
    margin-left: auto;
    margin-right: 20px;
  }

  /* ⭐ Toggle Box (FULL BORDER) */
  .toggle-border {
    border: 2px solid #ff385c;
    padding: 10px 18px;
    border-radius: 12px;
    background: #fff;
    display: flex;
    align-items: center;
    gap: 10px;
    box-shadow: 0 3px 8px rgba(0,0,0,0.12);
  }

  /* ⭐ LISTING CARD STYLING */
  .listing-card {
    border-radius: 15px;
    overflow: hidden;
    transition: 0.2s ease-in-out;
    border: none;
  }

  .listing-card:hover {
    transform: scale(1.03);
    box-shadow: 0 6px 15px rgba(0,0,0,0.15);
  }

  .listing-img {
    height: 220px;
    width: 100%;
    object-fit: cover;
  }

  h5 {
    font-size: 1.1rem;
    font-weight: 600;
  }
</style>


<!-- ⭐ FILTERS SECTION -->
<div id="filters">

  <div class="filter">
    <i class="fa-solid fa-fire"></i>
    <p>Trending</p>
  </div>

  <div class="filter">
    <i class="fa-solid fa-bed"></i>
    <p>Rooms</p>
  </div>

  <div class="filter">
    <i class="fa-solid fa-mountain-city"></i>
    <p>Iconic City</p>
  </div>

  <div class="filter">
    <i class="fa-solid fa-mountain"></i>
    <p>Mountains</p>
  </div>

  <div class="filter">
    <i class="fa-brands fa-fort-awesome"></i>
    <p>Castles</p>
  </div>

  <div class="filter">
    <i class="fa-solid fa-campground"></i>
    <p>Camping</p>
  </div>

  <div class="filter">
    <i class="fa-solid fa-person-swimming"></i>
    <p>Pools</p>
  </div>

  <div class="filter">
    <i class="fa-solid fa-tractor"></i>
    <p>Farms</p>
  </div>

  <div class="filter">
    <i class="fa-regular fa-snowflake"></i>
    <p>Arctic</p>
  </div>

  <!-- ⭐ Toggle Button -->
  <div class="tex-toggale">
    <div class="form-check form-switch toggle-border">
      <input class="form-check-input" type="checkbox" role="switch" id="switchCheckDefault">
      <label class="form-check-label" for="switchCheckDefault">Display total after taxes</label>
    </div>
  </div>

</div>


<!-- ⭐ LISTING GRID -->
<div class="row row-cols-lg-3 row-cols-md-2 row-cols-sm-1 g-4">

  <% for (let listing of allListing) { %>

    <div class="col">
      <a href="/listings/<%= listing._id %>" class="listing-link" style="text-decoration: none; color: inherit;">

        <div class="card listing-card shadow-sm">

          <img 
            src="<%= listing.image?.url || 'https://placehold.co/600x400?text=No+Image' %>" 
            class="listing-img"
            alt="<%= listing.title %>"
          >

          <div class="card-body p-2">
            <h5 class="card-title mb-1"><%= listing.title %></h5>

            <p class="card-text mb-1">
              <strong>Price:</strong>
              ₹<%= listing.price.toLocaleString("en-IN") %> / Night
            </p>
          </div>

        </div>

      </a>
    </div>

  <% } %>

</div>


<script>
  let texesSwitch = document.getElementsByClassName("flexSwitch")
</script>
